<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tic-Tac-Toe Game</title>
  <style>
    body {
      /* Animated diagonal gradient stripes for a modern look */
      background: repeating-linear-gradient(
        114deg,
        #0b57e0 0px,
        #0b57e0 40px,
        #e0eafc 40px,
        #e0eafc 80px,
        #cfdef3 80px,
        #cfdef3 120px,
        #0b57e0 120px,
        #0b57e0 160px
      );
      animation: stripesMove 8s linear infinite;
      font-family: Arial, sans-serif;
      min-height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    @keyframes stripesMove {
      0% { background-position: 0 0; }
      100% { background-position: 320px 320px; }
    }
    .game-container {
      background: rgba(255,255,255,0.95);
      padding: 32px 24px;
      border-radius: 16px;
      box-shadow: 0 2px 24px rgba(11,87,224,0.15), 0 1.5px 8px rgba(0,0,0,0.08);
      text-align: center;
      backdrop-filter: blur(2px);
    }
    .board {
      display: grid;
      grid-template-columns: repeat(3, 80px);
      grid-template-rows: repeat(3, 80px);
      gap: 8px;
      margin-bottom: 20px;
    }
    .cell {
      width: 80px;
      height: 80px;
      font-size: 2.5rem;
      background: linear-gradient(135deg, #cc219c 60%, #e0eafc 100%);
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
      box-shadow: 0 2px 8px rgba(11,87,224,0.08);
    }
    .cell:hover:not(.disabled) {
      background: linear-gradient(135deg, #cce7ff 60%, #cc219c 100%);
      box-shadow: 0 4px 16px rgba(11,87,224,0.12);
    }
    .cell.disabled {
      cursor: not-allowed;
      background: #eaeaea;
      color: #aaa;
      box-shadow: none;
    }
    .status {
      font-size: 1.2rem;
      margin-bottom: 12px;
      min-height: 28px;
      color: #0b57e0;
      font-weight: bold;
      letter-spacing: 1px;
      text-shadow: 0 1px 0 #fff;
    }
    .controls {
      margin-top: 10px;
    }
    .controls button {
      padding: 8px 18px;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      background: #0078d4;
      color: #fff;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
      margin: 0 6px;
      box-shadow: 0 2px 8px rgba(11,87,224,0.08);
    }
    .controls button:hover {
      background: #005fa3;
      box-shadow: 0 4px 16px rgba(11,87,224,0.12);
    }
    .mode-select {
      margin-bottom: 16px;
    }
    .mode-select label {
      font-size: 1rem;
      margin-right: 10px;
      color: #0b57e0;
      font-weight: bold;
    }
    .mode-select select {
      font-size: 1rem;
      padding: 4px 8px;
      border-radius: 4px;
      border: 1px solid #aaa;
      background: #e0eafc;
      color: #0b57e0;
      font-weight: bold;
      outline: none;
      transition: border 0.2s;
    }
    .mode-select select:focus {
      border: 1.5px solid #0b57e0;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <div class="mode-select">
      <label for="mode">Mode:</label>
      <select id="mode">
        <option value="player">Player vs Player</option>
        <option value="computer">Player vs Computer</option>
      </select>
    </div>
    <div class="status" id="status"></div>
    <div class="board" id="board"></div>
    <div class="controls">
      <button id="resetBtn">Restart</button>
    </div>
  </div>
  <script>
    const boardEl = document.getElementById('board');
    const statusEl = document.getElementById('status');
    const resetBtn = document.getElementById('resetBtn');
    const modeSelect = document.getElementById('mode');

    let board = Array(9).fill('');
    let currentPlayer = 'X';
    let gameActive = true;
    let mode = modeSelect.value;

    function renderBoard() {
      boardEl.innerHTML = '';
      board.forEach((cell, idx) => {
        const btn = document.createElement('button');
        btn.className = 'cell' + (cell ? ' disabled' : '');
        btn.textContent = cell;
        btn.disabled = !!cell || !gameActive;
        btn.addEventListener('click', () => handleCellClick(idx));
        boardEl.appendChild(btn);
      });
    }

    function handleCellClick(idx) {
      if (!gameActive || board[idx]) return;
      board[idx] = currentPlayer;
      renderBoard();
      if (checkWin(currentPlayer)) {
        statusEl.textContent = `Player ${currentPlayer} wins!`;
        gameActive = false;
      } else if (board.every(cell => cell)) {
        statusEl.textContent = "It's a draw!";
        gameActive = false;
      } else {
        if (mode === 'computer' && currentPlayer === 'X') {
          currentPlayer = 'O';
          statusEl.textContent = "Computer's turn...";
          setTimeout(computerMove, 500);
        } else {
          currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
          statusEl.textContent = `Player ${currentPlayer}'s turn`;
        }
      }
    }

    function computerMove() {
      if (!gameActive) return;
      // Simple AI: pick random empty cell
      const emptyCells = board.map((cell, idx) => cell ? null : idx).filter(idx => idx !== null);
      if (emptyCells.length === 0) return;
      const move = emptyCells[Math.floor(Math.random() * emptyCells.length)];
      board[move] = 'O';
      renderBoard();
      if (checkWin('O')) {
        statusEl.textContent = "Computer wins!";
        gameActive = false;
      } else if (board.every(cell => cell)) {
        statusEl.textContent = "It's a draw!";
        gameActive = false;
      } else {
        currentPlayer = 'X';
        statusEl.textContent = "Player X's turn";
      }
    }

    function checkWin(player) {
      const winPatterns = [
        [0,1,2],[3,4,5],[6,7,8], // rows
        [0,3,6],[1,4,7],[2,5,8], // cols
        [0,4,8],[2,4,6]          // diags
      ];
      return winPatterns.some(pattern =>
        pattern.every(idx => board[idx] === player)
      );
    }

    function resetGame() {
      board = Array(9).fill('');
      currentPlayer = 'X';
      gameActive = true;
      statusEl.textContent = `Player X's turn`;
      renderBoard();
    }

    modeSelect.addEventListener('change', () => {
      mode = modeSelect.value;
      resetGame();
    });

    resetBtn.addEventListener('click', resetGame);

    // Initial render
    resetGame();
  </script>
</body>
</html>